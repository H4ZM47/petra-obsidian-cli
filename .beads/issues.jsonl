{"id":"petra-0n3","title":"Phase 1: Foundation (MVP)","description":"Monorepo setup, CLI scaffolding, file-mode CRUD for notes, vault discovery, config system, output modes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T12:19:51.675494-06:00","updated_at":"2025-12-08T12:37:15.767213-06:00","closed_at":"2025-12-08T12:37:15.767213-06:00"}
{"id":"petra-0qc","title":"Implement note create command","description":"Create markdown files in vault, support frontmatter, handle path normalization.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.209566-06:00","updated_at":"2025-12-08T12:37:04.521891-06:00","closed_at":"2025-12-08T12:37:04.521891-06:00","dependencies":[{"issue_id":"petra-0qc","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.403857-06:00","created_by":"daemon"},{"issue_id":"petra-0qc","depends_on_id":"petra-jad","type":"blocks","created_at":"2025-12-08T12:20:30.887583-06:00","created_by":"daemon"}]}
{"id":"petra-13w","title":"Set up Bun monorepo with workspaces","description":"Initialize Bun project, configure workspaces for cli, plugin, and shared packages. Set up TypeScript config.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:07.670097-06:00","updated_at":"2025-12-08T12:29:17.061866-06:00","closed_at":"2025-12-08T12:29:17.061866-06:00","dependencies":[{"issue_id":"petra-13w","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.026493-06:00","created_by":"daemon"}]}
{"id":"petra-1i0","title":"Implement daily notes endpoints","description":"Add: POST /daily (create today's note), GET /daily/:date (read daily note). Integrate with Obsidian's daily notes plugin settings. Use configured template if available.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:05.298006-06:00","updated_at":"2025-12-08T13:04:44.371982-06:00","closed_at":"2025-12-08T13:04:44.371982-06:00","dependencies":[{"issue_id":"petra-1i0","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:05.298623-06:00","created_by":"daemon"}]}
{"id":"petra-1sb","title":"Add graph CLI commands","description":"Add `petra graph neighbors \u003cpath\u003e` (nodes connected to a note) and `petra graph query` (advanced graph traversal). Options: --depth, --direction (in/out/both), --filter. Require bridge mode.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.414379-06:00","updated_at":"2025-12-08T13:12:07.765501-06:00","closed_at":"2025-12-08T13:12:07.765501-06:00","dependencies":[{"issue_id":"petra-1sb","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.415166-06:00","created_by":"daemon"}]}
{"id":"petra-5ut","title":"Implement link-aware note move","description":"Enhance POST /notes/:path/move to update all backlinks when moving a note. Use Obsidian's app.fileManager.renameFile() which handles link rewrites. CLI uses bridge when available for safe moves.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.787669-06:00","updated_at":"2025-12-08T13:12:08.088082-06:00","closed_at":"2025-12-08T13:12:08.088082-06:00","dependencies":[{"issue_id":"petra-5ut","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.788275-06:00","created_by":"daemon"}]}
{"id":"petra-5ze","title":"Add CLI bridge auto-detection","description":"Create packages/cli/src/lib/bridge.ts with: checkBridgeAvailable() pings /health, getBridgeClient() returns configured fetch wrapper. Commands try bridge first, fall back to file mode, or error if bridge required.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:05.069041-06:00","updated_at":"2025-12-08T12:54:07.093061-06:00","closed_at":"2025-12-08T12:54:07.093061-06:00","dependencies":[{"issue_id":"petra-5ze","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:05.070241-06:00","created_by":"daemon"}]}
{"id":"petra-7ii","title":"Scaffold Obsidian plugin structure","description":"Set up packages/plugin with proper Obsidian plugin structure: manifest.json, styles.css placeholder, main.ts entry point extending Plugin class. Configure build to output main.js for Obsidian.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:04.596781-06:00","updated_at":"2025-12-08T12:54:06.991333-06:00","closed_at":"2025-12-08T12:54:06.991333-06:00","dependencies":[{"issue_id":"petra-7ii","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:04.597828-06:00","created_by":"daemon"}]}
{"id":"petra-7pz","title":"Add template CLI commands","description":"Add `petra template list` (show available templates) and `petra template run \u003cname\u003e \u003cdestination\u003e` (create note from template). Options: --var key=value for template variables. Require bridge mode.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.665304-06:00","updated_at":"2025-12-08T13:12:07.976248-06:00","closed_at":"2025-12-08T13:12:07.976248-06:00","dependencies":[{"issue_id":"petra-7pz","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.665919-06:00","created_by":"daemon"}]}
{"id":"petra-93k","title":"Implement token-based authentication","description":"Generate random auth token on first plugin run. Store token at ~/.petra/token. CLI reads token and sends as Authorization: Bearer header. /health endpoint exempt from auth. Return 401 for invalid/missing tokens.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:04.837099-06:00","updated_at":"2025-12-08T13:01:05.026552-06:00","closed_at":"2025-12-08T13:01:05.026552-06:00","dependencies":[{"issue_id":"petra-93k","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:04.83848-06:00","created_by":"daemon"},{"issue_id":"petra-93k","depends_on_id":"petra-ix1","type":"blocks","created_at":"2025-12-08T12:49:46.808089-06:00","created_by":"daemon"}]}
{"id":"petra-98p","title":"Implement output formatting","description":"Pretty print by default, JSON with --json flag, quiet mode with -q, respect config preferences.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.760538-06:00","updated_at":"2025-12-08T12:37:15.740303-06:00","closed_at":"2025-12-08T12:37:15.740303-06:00","dependencies":[{"issue_id":"petra-98p","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.793326-06:00","created_by":"daemon"},{"issue_id":"petra-98p","depends_on_id":"petra-d30","type":"blocks","created_at":"2025-12-08T12:20:31.279194-06:00","created_by":"daemon"}]}
{"id":"petra-abx","title":"Implement tag search command","description":"Add `petra tag search \u003ctag\u003e` to find notes with a specific tag. Support partial matching and multiple tags with --all or --any flags.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:42:27.087089-06:00","updated_at":"2025-12-08T12:46:52.072114-06:00","closed_at":"2025-12-08T12:46:52.072114-06:00","dependencies":[{"issue_id":"petra-abx","depends_on_id":"petra-r7u","type":"blocks","created_at":"2025-12-08T12:42:27.087767-06:00","created_by":"daemon"}]}
{"id":"petra-azm","title":"Phase 3: Plugin Bridge","description":"Build the Obsidian plugin (petra-bridge) with HTTP server, token auth, and bridge-mode endpoints. Enable CLI auto-detection of bridge availability.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T12:48:44.857593-06:00","updated_at":"2025-12-08T13:04:44.474829-06:00","closed_at":"2025-12-08T13:04:44.474829-06:00"}
{"id":"petra-bn4","title":"Implement template endpoints","description":"Add GET /templates (list available templates from Templates folder), POST /templates/:name/run (execute template with variables). Support both core templates and Templater plugin if available.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.542062-06:00","updated_at":"2025-12-08T13:12:07.870065-06:00","closed_at":"2025-12-08T13:12:07.870065-06:00","dependencies":[{"issue_id":"petra-bn4","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.54268-06:00","created_by":"daemon"}]}
{"id":"petra-d30","title":"Scaffold CLI with commander","description":"Set up CLI entry point, commander configuration, global flags (--json, --quiet, --vault), and command structure.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:07.885671-06:00","updated_at":"2025-12-08T12:33:18.897895-06:00","closed_at":"2025-12-08T12:33:18.897895-06:00","dependencies":[{"issue_id":"petra-d30","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.178181-06:00","created_by":"daemon"},{"issue_id":"petra-d30","depends_on_id":"petra-vjs","type":"blocks","created_at":"2025-12-08T12:20:30.651093-06:00","created_by":"daemon"}]}
{"id":"petra-dae","title":"Implement backlinks endpoint","description":"Add GET /notes/:path/backlinks endpoint. Use Obsidian's MetadataCache.getBacklinksForFile() to get notes linking to the target. Return array of NoteInfo with link context snippets.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:25.915319-06:00","updated_at":"2025-12-08T13:12:07.34332-06:00","closed_at":"2025-12-08T13:12:07.34332-06:00","dependencies":[{"issue_id":"petra-dae","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:25.91603-06:00","created_by":"daemon"}]}
{"id":"petra-edq","title":"Implement outlinks endpoint","description":"Add GET /notes/:path/outlinks endpoint. Parse note content for [[wikilinks]] and [markdown](links). Return array of linked notes with resolved paths and existence status.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.039506-06:00","updated_at":"2025-12-08T13:12:07.449371-06:00","closed_at":"2025-12-08T13:12:07.449371-06:00","dependencies":[{"issue_id":"petra-edq","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.040171-06:00","created_by":"daemon"}]}
{"id":"petra-hci","title":"Phase 4: Rich Operations","description":"Add bridge-only features: backlinks, outlinks, graph queries, template execution, and link-aware note moves.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T12:48:44.974462-06:00","updated_at":"2025-12-08T13:12:14.746464-06:00","closed_at":"2025-12-08T13:12:14.746464-06:00","dependencies":[{"issue_id":"petra-hci","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:46.631791-06:00","created_by":"daemon"}]}
{"id":"petra-hor","title":"Implement graph query endpoint","description":"Add POST /graph/query endpoint. Accept {from, depth, filter} params. Traverse Obsidian's link graph to specified depth. Return nodes and edges for visualization or analysis.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.287395-06:00","updated_at":"2025-12-08T13:12:07.659873-06:00","closed_at":"2025-12-08T13:12:07.659873-06:00","dependencies":[{"issue_id":"petra-hor","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.288159-06:00","created_by":"daemon"}]}
{"id":"petra-ix1","title":"Implement HTTP server in plugin","description":"Create HTTP server on localhost:27182 using Obsidian's requestUrl or native fetch. Implement /health endpoint. Handle CORS for local requests. Server starts on plugin load, stops on unload.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:04.719223-06:00","updated_at":"2025-12-08T13:01:04.92659-06:00","closed_at":"2025-12-08T13:01:04.92659-06:00","dependencies":[{"issue_id":"petra-ix1","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:04.720838-06:00","created_by":"daemon"},{"issue_id":"petra-ix1","depends_on_id":"petra-7ii","type":"blocks","created_at":"2025-12-08T12:49:46.720995-06:00","created_by":"daemon"}]}
{"id":"petra-jad","title":"Implement vault discovery","description":"Read ~/.obsidian/obsidian.json to find vaults, implement vault list/switch/info commands.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.102938-06:00","updated_at":"2025-12-08T12:37:04.492607-06:00","closed_at":"2025-12-08T12:37:04.492607-06:00","dependencies":[{"issue_id":"petra-jad","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.329086-06:00","created_by":"daemon"},{"issue_id":"petra-jad","depends_on_id":"petra-s3b","type":"blocks","created_at":"2025-12-08T12:20:30.807293-06:00","created_by":"daemon"}]}
{"id":"petra-lc1","title":"Implement note search command","description":"Add `petra note search \u003cquery\u003e` for full-text content search across vault. Support --folder filter and --limit option. Return matching notes with context snippets.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:42:26.845871-06:00","updated_at":"2025-12-08T12:46:51.88325-06:00","closed_at":"2025-12-08T12:46:51.88325-06:00","dependencies":[{"issue_id":"petra-lc1","depends_on_id":"petra-r7u","type":"blocks","created_at":"2025-12-08T12:42:26.846525-06:00","created_by":"daemon"}]}
{"id":"petra-lfc","title":"Implement search and tag endpoints","description":"Add: POST /search (full-text via Obsidian search), GET /tags (all tags), GET /tags/:tag/notes (notes with tag). Leverage Obsidian's MetadataCache for efficient tag queries.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:05.183773-06:00","updated_at":"2025-12-08T13:04:44.271194-06:00","closed_at":"2025-12-08T13:04:44.271194-06:00","dependencies":[{"issue_id":"petra-lfc","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:05.184344-06:00","created_by":"daemon"}]}
{"id":"petra-na9","title":"Implement bridge CRUD endpoints","description":"Add REST endpoints: GET/POST /notes, GET/PUT/DELETE /notes/:path, POST /notes/:path/move, GET /vault. Use Obsidian API (app.vault) for file operations. Return ApiResponse format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:04.954565-06:00","updated_at":"2025-12-08T13:01:05.134307-06:00","closed_at":"2025-12-08T13:01:05.134307-06:00","dependencies":[{"issue_id":"petra-na9","depends_on_id":"petra-azm","type":"blocks","created_at":"2025-12-08T12:49:04.955763-06:00","created_by":"daemon"},{"issue_id":"petra-na9","depends_on_id":"petra-93k","type":"blocks","created_at":"2025-12-08T12:49:46.894683-06:00","created_by":"daemon"}]}
{"id":"petra-p3v","title":"Implement daily notes commands","description":"Add `petra daily create` (create today's daily note), `petra daily open \u003cdate\u003e` (read a daily note), `petra daily list` (list recent daily notes). Read daily note format/folder from .obsidian/daily-notes.json.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:42:27.325027-06:00","updated_at":"2025-12-08T12:46:52.257922-06:00","closed_at":"2025-12-08T12:46:52.257922-06:00","dependencies":[{"issue_id":"petra-p3v","depends_on_id":"petra-r7u","type":"blocks","created_at":"2025-12-08T12:42:27.325701-06:00","created_by":"daemon"}]}
{"id":"petra-pea","title":"Implement note update command","description":"Update note content, support --append flag, preserve frontmatter.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.424131-06:00","updated_at":"2025-12-08T12:37:15.651784-06:00","closed_at":"2025-12-08T12:37:15.651784-06:00","dependencies":[{"issue_id":"petra-pea","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.559692-06:00","created_by":"daemon"},{"issue_id":"petra-pea","depends_on_id":"petra-zs9","type":"blocks","created_at":"2025-12-08T12:20:31.039498-06:00","created_by":"daemon"}]}
{"id":"petra-pz5","title":"Implement tag list command","description":"Add `petra tag list` to show all tags used in vault. Parse both frontmatter tags and inline #tags. Show count per tag.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:42:26.965908-06:00","updated_at":"2025-12-08T12:46:51.977409-06:00","closed_at":"2025-12-08T12:46:51.977409-06:00","dependencies":[{"issue_id":"petra-pz5","depends_on_id":"petra-r7u","type":"blocks","created_at":"2025-12-08T12:42:26.966744-06:00","created_by":"daemon"}]}
{"id":"petra-r7u","title":"Phase 2: File-Mode Search \u0026 Tags","description":"Add content search, tag management, note move, and daily notes commands to complete file-mode operations.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-08T12:42:13.575296-06:00","updated_at":"2025-12-08T12:46:52.35527-06:00","closed_at":"2025-12-08T12:46:52.35527-06:00"}
{"id":"petra-s3b","title":"Implement config system","description":"Config storage at ~/.petra/config.json, petra config set/get commands, environment variable overrides.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:07.992025-06:00","updated_at":"2025-12-08T12:37:04.452369-06:00","closed_at":"2025-12-08T12:37:04.452369-06:00","dependencies":[{"issue_id":"petra-s3b","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.255295-06:00","created_by":"daemon"},{"issue_id":"petra-s3b","depends_on_id":"petra-d30","type":"blocks","created_at":"2025-12-08T12:20:30.729865-06:00","created_by":"daemon"}]}
{"id":"petra-sja","title":"Add note backlinks/outlinks CLI commands","description":"Add `petra note backlinks \u003cpath\u003e` and `petra note outlinks \u003cpath\u003e` commands. Require bridge mode (error with helpful message if unavailable). Display linked notes with context.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:49:26.164394-06:00","updated_at":"2025-12-08T13:12:07.55236-06:00","closed_at":"2025-12-08T13:12:07.55236-06:00","dependencies":[{"issue_id":"petra-sja","depends_on_id":"petra-hci","type":"blocks","created_at":"2025-12-08T12:49:26.165002-06:00","created_by":"daemon"}]}
{"id":"petra-ssp","title":"Implement note move command","description":"Add `petra note move \u003cfrom\u003e \u003cto\u003e` to rename/move notes. Warn user that links will not be updated (requires bridge mode). Handle directory creation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:42:27.207942-06:00","updated_at":"2025-12-08T12:46:52.164228-06:00","closed_at":"2025-12-08T12:46:52.164228-06:00","dependencies":[{"issue_id":"petra-ssp","depends_on_id":"petra-r7u","type":"blocks","created_at":"2025-12-08T12:42:27.208618-06:00","created_by":"daemon"}]}
{"id":"petra-v7q","title":"Implement note list command","description":"List notes in vault, support --folder, --limit filters, parse frontmatter for metadata.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.646602-06:00","updated_at":"2025-12-08T12:37:15.712945-06:00","closed_at":"2025-12-08T12:37:15.712945-06:00","dependencies":[{"issue_id":"petra-v7q","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.715685-06:00","created_by":"daemon"},{"issue_id":"petra-v7q","depends_on_id":"petra-z6j","type":"blocks","created_at":"2025-12-08T12:20:31.203454-06:00","created_by":"daemon"}]}
{"id":"petra-vjs","title":"Create shared types package","description":"Define shared interfaces for notes, vaults, API responses, error codes, and constants.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:07.780753-06:00","updated_at":"2025-12-08T12:31:51.085956-06:00","closed_at":"2025-12-08T12:31:51.085956-06:00","dependencies":[{"issue_id":"petra-vjs","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.102979-06:00","created_by":"daemon"},{"issue_id":"petra-vjs","depends_on_id":"petra-13w","type":"blocks","created_at":"2025-12-08T12:20:30.570425-06:00","created_by":"daemon"}]}
{"id":"petra-z6j","title":"Implement note delete command","description":"Delete notes, optionally move to .trash instead of permanent delete.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.534827-06:00","updated_at":"2025-12-08T12:37:15.68189-06:00","closed_at":"2025-12-08T12:37:15.68189-06:00","dependencies":[{"issue_id":"petra-z6j","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.638623-06:00","created_by":"daemon"},{"issue_id":"petra-z6j","depends_on_id":"petra-pea","type":"blocks","created_at":"2025-12-08T12:20:31.128118-06:00","created_by":"daemon"}]}
{"id":"petra-zs9","title":"Implement note read command","description":"Read note content, parse YAML frontmatter, return content and metadata.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T12:20:08.317463-06:00","updated_at":"2025-12-08T12:37:15.623434-06:00","closed_at":"2025-12-08T12:37:15.623434-06:00","dependencies":[{"issue_id":"petra-zs9","depends_on_id":"petra-0n3","type":"parent-child","created_at":"2025-12-08T12:20:20.482029-06:00","created_by":"daemon"},{"issue_id":"petra-zs9","depends_on_id":"petra-0qc","type":"blocks","created_at":"2025-12-08T12:20:30.964385-06:00","created_by":"daemon"}]}
